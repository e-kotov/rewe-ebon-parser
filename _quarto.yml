project:
  type: website

website:
  title: "rewe-ebon-parser"
  navbar:
    left:
      - href: index.qmd
        text: Home
      - href: cli.qmd
        text: CLI Reference
      - href: reference/index.qmd
        text: API Reference
    right:
      - icon: github
        href: "https://github.com/e-kotov/rewe-ebon-parser"

# Tell Quarto to read the sidebar generated by quartodoc for the reference section
metadata-files:
  - "reference/_sidebar.yml"

# Apply the default quartodoc styling
format:
  html:
    theme: cosmo
    css:
      - "reference/_styles-quartodoc.css"
    include-in-header:
      - text: |
          <script data-goatcounter="https://jukadipos.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
          <script src="https://cdn.counter.dev/script.js" data-id="7e3e8d31-9a84-48b0-a678-a00715236a90" data-utcoffset="1"></script>
          <script>
            (function(h,o,t,j,a,r){
                h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                h._hjSettings={hjid:3578286,hjsv:6};
                a=o.getElementsByTagName('head')[0];
                r=o.createElement('script');r.async=1;
                r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                a.appendChild(r);
            })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
          </script>

# Configure quartodoc to build the API documentation
quartodoc:
  # The name of the package to document
  package: rewe_ebon_parser

  # The directory to write the generated API docs to
  dir: reference

  # Generate a sidebar and CSS file for the reference section
  sidebar: reference/_sidebar.yml
  css: reference/_styles-quartodoc.css

  # Define the structure of the API reference section
  sections:
    - title: "Core Functions"
      desc: "Parse REWE eBons from PDF files or raw text."
      contents:
        - parse_ebon
        - parse_pdf_ebon
    - title: "Data Classes"
      desc: "Objects representing the structure of a parsed receipt."
      contents:
        - Receipt
        - ReceiptItem
        - LoyaltyData
        - MarketAddress
        - Payment
        - TaxDetails
        - PaybackDetails
        - REWEBonusDetails
