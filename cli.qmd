---
title: "Command Line Reference"
---

The `rewe-ebon-parser` CLI is the primary way to turn REWE eBons into JSON or CSV. This page groups the important flags and workflows in one place so you do not have to dig into the API reference.

## Basic usage

```bash
rewe-ebon-parser [--file | --folder] <input_path> [output_path] [OPTIONS]
```

- When no mode flag is given the tool auto-detects whether `input_path` is a single file or a directory.
- `output_path` is optional; defaults depend on the mode (JSON next to the PDF, `rewe_json_out/`, etc.).
- Use `--help` at any time to print the latest usage text.

## Arguments

| Flag | Description |
| --- | --- |
| `input_path` | PDF or directory containing PDFs/JSON exports. Optional if you only need the help output. |
| `output_path` | Destination JSON/CSV/text path (file or folder depending on the chosen mode). |
| `--file` | Force file → file processing (single PDF to JSON/CSV). |
| `--folder` | Force directory → directory processing. |
| `--nthreads NUM` | Limit worker threads; defaults to available CPU cores. |
| `--csv-table` | Combine all parsed receipts into a single CSV table. |
| `--txt-dump` | Dump raw text from PDFs instead of structured JSON. |
| `--rawtext-file` | Store raw text for each file next to the outputs (mostly for debugging). |
| `--rawtext-stdout` | Print a PDF's raw text to stdout for quick inspection. |
| `--preserve-privacy` | Anonymize sensitive fields (addresses, loyalty IDs, payments) before writing JSON/text/CSV. |
| `--version` | Show the installed version and exit. |
| `-h`, `--help` | Show the usage message that the CLI generates from `argparse`. |

## Common workflows

### Convert a single PDF to JSON or CSV

```bash
# Auto-detect mode; writes JSON next to the input
rewe-ebon-parser examples/eBons/1.pdf

# Force CSV output for a single file
rewe-ebon-parser --file examples/eBons/1.pdf --csv-table
```

### Convert a directory of PDFs

```bash
# Auto-detect folder and store JSONs in rewe_json_out
rewe-ebon-parser examples/eBons/

# Write a consolidated CSV file
rewe-ebon-parser --folder examples/eBons/ --csv-table examples/all-items.csv
```

### Produce privacy-safe text dumps

```bash
# Single file
rewe-ebon-parser --txt-dump --preserve-privacy examples/eBons/1.pdf

# Folder
rewe-ebon-parser --txt-dump --folder examples/eBons/ receipts_txt --preserve-privacy
```

## Keep the page in sync

This file is plain Markdown, so update it whenever you add or rename CLI flags. If you prefer the content to stay perfectly in step with the actual parser, replace the manual sections above with a code chunk that runs `python -m rewe_ebon_parser.cli --help` so the Quarto build captures the authoritative help output.
